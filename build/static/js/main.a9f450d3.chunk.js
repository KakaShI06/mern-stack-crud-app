(this.webpackJsonpcrud=this.webpackJsonpcrud||[]).push([[0],{25:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var i=n(4),a=n(15),s=n.n(a),o=(n(25),n(6)),c=n.n(o),l=n(16),r=n(17),h=n(18),u=n(2),d=n(20),j=n(19),b=n(3),m=n.n(b),g=(n(45),n(0)),p=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={position:"main",loading:!0,person:[],name:null,email:null,age:null,editPage:!1,editId:null},e.changePositionToUser=e.changePositionToUser.bind(Object(u.a)(e)),e.changePositionToMain=e.changePositionToMain.bind(Object(u.a)(e)),e.onSubmitFormButton=e.onSubmitFormButton.bind(Object(u.a)(e)),e.onChangeFullName=e.onChangeFullName.bind(Object(u.a)(e)),e.onChangeEmail=e.onChangeEmail.bind(Object(u.a)(e)),e.onChangeAge=e.onChangeAge.bind(Object(u.a)(e)),e.onClickDelete=e.onClickDelete.bind(Object(u.a)(e)),e.onClickEdit=e.onClickEdit.bind(Object(u.a)(e)),e.onEditEntry=e.onEditEntry.bind(Object(u.a)(e)),e.editBackButton=e.editBackButton.bind(Object(u.a)(e)),e}return Object(h.a)(n,[{key:"getAllTheUser",value:function(){var e=this;m.a.get("https://mern-stck-backend.herokuapp.com/users").then((function(t){e.setState({loading:!1,person:t.data})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getAllTheUser();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changePositionToUser",value:function(){this.setState({position:"user",editPage:!1,editId:null})}},{key:"changePositionToMain",value:function(){this.setState({position:"main",editPage:!1,editId:null})}},{key:"onChangeFullName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeAge",value:function(e){this.setState({age:e.target.value})}},{key:"onSubmitFormButton",value:function(e){var t=this;e.preventDefault(),null!==this.state.name&&null!==this.state.email&&null!==this.state.age?m.a.post("https://mern-stck-backend.herokuapp.com/users",{name:this.state.name,age:this.state.age,email:this.state.email}).then((function(e){m.a.get("https://mern-stck-backend.herokuapp.com/users").then((function(e){t.setState({loading:!1,person:e.data,position:"user",name:null,email:null,age:null})}))})).catch((function(e){return console.log(e)})):alert("Some Information is missing")}},{key:"onClickDelete",value:function(e){var t=this,n="https://mern-stck-backend.herokuapp.com/users/"+String(e);m.a.delete(n).then((function(e){alert("Entry has been deleted"),t.getAllTheUser()})).catch((function(e){return console.log(e)}))}},{key:"onClickEdit",value:function(e){alert("Go to bottom of the Page To Edit The Entry"),this.setState({editPage:!0,editId:e})}},{key:"onEditEntry",value:function(){var e=this;if("main"!==this.state.position&&!0===this.state.editPage){console.log(this.state.editId);var t="https://mern-stck-backend.herokuapp.com/users/"+String(this.state.editId);m.a.put(t,{name:this.state.name,age:this.state.age,email:this.state.email}).then((function(n){t="https://mern-stck-backend.herokuapp.com/users/",m.a.get(t).then((function(t){e.setState({loading:!1,person:t.data,position:"user",name:null,email:null,age:null,editPage:!1,editId:null})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}}},{key:"editBackButton",value:function(){this.setState({position:"user",editPage:!1,editId:null})}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("nav",{children:[Object(g.jsx)("h1",{children:"Welcome to Crud-App"}),"main"===this.state.position?Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"to-the-left",onClick:this.changePositionToUser,children:"Check all Friends"})}):Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"to-the-left",onClick:this.changePositionToMain,children:" Back to Main Page"})}),";"]}),Object(g.jsx)("main",{children:"main"===this.state.position?Object(g.jsx)("div",{className:"content",children:Object(g.jsxs)("form",{onSubmit:this.onSubmitFormButton,children:[Object(g.jsx)("label",{children:"Full Name"}),Object(g.jsx)("input",{type:"text",className:"entry-value",placeholder:"Your Full-Name..",onChange:this.onChangeFullName}),Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)("input",{type:"text",className:"entry-value",placeholder:"Your Email..",onChange:this.onChangeEmail}),Object(g.jsx)("label",{children:"Age"}),Object(g.jsx)("input",{type:"number",className:"entry-value",placeholder:"Your Age..",onChange:this.onChangeAge}),Object(g.jsx)("button",{type:"submit",value:"Submit",children:"Add Friend! "})]})}):Object(g.jsx)("div",{children:!0!==this.state.loading&&"user"===this.state.position&&0!==this.state.person.length?Object(g.jsx)("div",{children:Object(g.jsxs)("table",{className:"user-info",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Age"})]})}),this.state.person.map((function(t){return Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t.name}),Object(g.jsx)("td",{children:t.email}),Object(g.jsx)("td",{children:t.age}),Object(g.jsx)("td",{children:Object(g.jsx)("button",{onClick:function(){return e.onClickEdit(t._id)},children:"Edit"})}),Object(g.jsx)("td",{children:Object(g.jsx)("button",{onClick:function(){return e.onClickDelete(t._id)},children:"Delete!"})})]})},t._id)}))]})}):Object(g.jsx)("div",{className:"empty-entry",children:Object(g.jsx)("p",{children:"You have no Friends .. Please go out and make some Friends"})})})}),Object(g.jsx)("footer",{children:!0===this.state.editPage&&"main"!==this.state.position?Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{children:"Edit Your Entry Below!"}),Object(g.jsxs)("div",{className:"edit-things",children:[Object(g.jsx)("button",{onClick:this.editBackButton,children:"Cancel!"}),Object(g.jsx)("input",{type:"text",placeholder:"name",onChange:this.onChangeFullName}),Object(g.jsx)("input",{type:"email",placeholder:"email",onChange:this.onChangeEmail}),Object(g.jsx)("input",{type:"number",placeholder:"age",onChange:this.onChangeAge}),Object(g.jsx)("button",{onClick:this.onEditEntry,children:"Edit"})]})]}):Object(g.jsx)("div",{})})]})}}]),n}(i.Component);s.a.render(Object(g.jsx)(p,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.a9f450d3.chunk.js.map